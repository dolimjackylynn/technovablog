<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Buy Product - TechNova Blog</title>
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body {
      background: url('co.jpg') no-repeat center center fixed;
      background-size: cover;
    }
    .navbar-brand { font-weight: bold; }
    .card { background: #ffffff; border: none; border-radius: 5px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .card-title { color: #2c09cc; font-weight: 500; text-transform: capitalize; }
    .form-control, .btn { border-radius: 5px; }
    footer {
      background-color: #080603;
      color: white;
      padding: 15px 0;
      text-align: center;
      margin-top: 50px;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="logo.jpg" alt="TechNova Logo" width="40" class="me-2">
      <span class="fw-bold text-white">TechNovaBlog</span>
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="login-signup.html">Login/Signup</a></li>
        <li class="nav-item"><a class="nav-link" href="product.html">Product</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Product Cards -->
<div class="container my-5">
  <div class="row row-cols-1 row-cols-md-3 g-4">

    <!-- Card 1 -->
    <div class="col">
      <div class="card h-100 text-center">
        <img src="air.jpg" class="card-img-top p-3" alt="air pods">
        <div class="card-body">
          <h5 class="card-title">Air Pods</h5>
          <p class="card-text text-success">₱350.00</p>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#purchaseModal"
                  data-img="air.jpg" data-title="Air Pods" data-price="₱350.00">Buy</button>
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="col">
      <div class="card h-100 text-center">
        <img src="keyboard.jpg" class="card-img-top p-3" alt="keyboard">
        <div class="card-body">
          <h5 class="card-title">Keyboard</h5>
          <p class="card-text text-success">₱599.00</p>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#purchaseModal"
                  data-img="keyboard.jpg" data-title="Keyboard" data-price="₱599.00">Buy</button>
        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="col">
      <div class="card h-100 text-center">
        <img src="loptop.webp" class="card-img-top p-3" alt="laptop">
        <div class="card-body">
          <h5 class="card-title">Laptop</h5>
          <p class="card-text text-success">₱15,000.00</p>
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#purchaseModal"
                  data-img="loptop.webp" data-title="Laptop" data-price="₱15,000.00">Buy</button>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- Purchase Modal -->
<div class="modal fade" id="purchaseModal" tabindex="-1" aria-labelledby="purchaseModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="purchaseModalLabel">Confirm Purchase</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body row">
        <!-- Product Image and Price -->
        <div class="col-md-5 text-center">
          <img src="" alt="Product Image" id="modalProductImg" class="img-fluid rounded mb-3">
          <h4 class="text-success" id="modalProductPrice"></h4>
          <h5 id="modalProductTitle" class="mb-3"></h5>
        </div>
        <!-- Form Fields -->
        <div class="col-md-7">
          <form id="purchaseForm">
            <div class="mb-3">
              <label for="fullname" class="form-label">Full Name</label>
              <input type="text" class="form-control" id="fullname" placeholder="Dolim jackylynn" required>
            </div>
            <div class="mb-3">
              <label for="address" class="form-label">Shipping Address</label>
              <textarea class="form-control" id="address" rows="2" placeholder="fairview quezon city" required></textarea>
            </div>
            <div class="mb-3">
              <label for="contact" class="form-label">Contact Number</label>
              <input type="text" class="form-control" id="contact" placeholder="09123456789" required>
            </div>
            <div class="mb-3">
              <label for="payment" class="form-label">Payment Method</label>
              <select class="form-select" id="payment" required>
                <option selected disabled>Select payment</option>
                <option value="cod">Cash on Delivery</option>
                <option value="gcash">GCash</option>
                <option value="card">Credit/Debit Card</option>
              </select>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button id="confirmBtn" class="btn btn-success">Confirm Purchase</button>
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer>
  <div class="container">
    <p>&copy; 2025 TechNova Blog. All rights reserved.</p>
  </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Populate modal with selected product data
  const purchaseModal = document.getElementById('purchaseModal');
  purchaseModal.addEventListener('show.bs.modal', event => {
    const button = event.relatedTarget;
    const imgSrc = button.getAttribute('data-img');
    const price = button.getAttribute('data-price');
    const title = button.getAttribute('data-title');

    document.getElementById('modalProductImg').src = imgSrc;
    document.getElementById('modalProductPrice').textContent = price;
    document.getElementById('modalProductTitle').textContent = title;
  });

  // Handle confirmation
  document.getElementById('confirmBtn').addEventListener('click', () => {
    const fullname = document.getElementById('fullname').value.trim();
    const address = document.getElementById('address').value.trim();
    const contact = document.getElementById('contact').value.trim();
    const payment = document.getElementById('payment').value;

    if (fullname.toLowerCase() !== "dolim jackylynn") {
      Swal.fire({
        icon: 'error',
        title: 'Unauthorized',
        text: 'Purchase is only allowed for user: Dolim jackylynn.',
      });
      return;
    }

    if (!fullname || !address || !contact || payment === "Select payment" || payment === "") {
      Swal.fire({
        icon: 'warning',
        title: 'Missing Information',
        text: 'Please fill in all required fields.',
      });
      return;
    }

    Swal.fire({
      icon: 'success',
      title: 'Purchase Confirmed!',
      html: `
        <strong>Thank you, ${fullname}!</strong><br><br>
        <b>Product:</b> ${document.getElementById('modalProductTitle').textContent}<br>
        <b>Price:</b> ${document.getElementById('modalProductPrice').textContent}<br><br>
        <b>Shipping Address:</b><br>${address}<br><br>
        <b>Contact Number:</b><br>${contact}<br><br>
        <b>Payment Method:</b> ${payment}<br>
      `
    });

    const modal = bootstrap.Modal.getInstance(purchaseModal);
    modal.hide();
    document.getElementById('purchaseForm').reset();
  });
</script>

</body>
</html>
